<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>The Eye of Data (@Buttonwood)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Data Mining and Visualization.">
<meta property="og:type" content="website">
<meta property="og:title" content="The Eye of Data (@Buttonwood)">
<meta property="og:url" content="http://buttonwood.bitbucket.org//page/2/">
<meta property="og:site_name" content="The Eye of Data (@Buttonwood)">
<meta property="og:description" content="Data Mining and Visualization.">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="The Eye of Data (@Buttonwood)">
<meta name="twitter:description" content="Data Mining and Visualization.">
  
    <link rel="alternative" href="/atom.xml" title="The Eye of Data (@Buttonwood)" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="http://fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  
<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">The Eye of Data (@Buttonwood)</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">Float like a butterfly! Stand like a buttonwood!</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><input type="submit" value="&#xF002;" class="search-form-submit"><input type="hidden" name="q" value="site:http://buttonwood.bitbucket.org/"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-2014-12-31-gitlab" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/12/31/2014-12-31-gitlab/" class="article-date">
  <time datetime="2014-12-31T02:51:00.000Z" itemprop="datePublished">Dec 31 2014</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Tips/">Tips</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/12/31/2014-12-31-gitlab/">使用gitlab搭建代码仓库</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>我来之前，公司一直用windows server搭建的svn托管代码，每次都要手动远程登陆到服务器然后后台授权。我看网上很多类github的平台，于是选了gitlab实验推荐大家迁移到git上来。</p>
<h3 id="1-_搭建脚本很简单，下载安装包，启动即可。">1. 搭建脚本很简单，下载安装包，启动即可。</h3>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
</pre></td><td class="code"><pre>curl -O https://downloads-packages<span class="preprocessor">.s</span>3<span class="preprocessor">.amazonaws</span><span class="preprocessor">.com</span>/centos-<span class="number">6.6</span>/gitlab-<span class="number">7.6</span><span class="number">.1</span>_omnibus<span class="number">.5</span><span class="number">.3</span><span class="number">.0</span><span class="preprocessor">.ci</span><span class="number">.1</span>-<span class="number">1.</span>el6<span class="preprocessor">.x</span>86_64<span class="preprocessor">.rpm</span>

yum install openssh-server postfix cronie

service postfix start && chkconfig postfix on

rpm -i gitlab-<span class="number">7.6</span><span class="number">.1</span>_omnibus<span class="number">.5</span><span class="number">.3</span><span class="number">.0</span><span class="preprocessor">.ci</span><span class="number">.1</span>-<span class="number">1.</span>el6<span class="preprocessor">.x</span>86_64<span class="preprocessor">.rpm</span>
</pre></td></tr></table></figure>

<p>然后按说明配置一下gitlab.rb，启动服务即可。注意8080端口和ssh端口转发。</p>
<h3 id="2-_用docker来更新最新版本的gitlab">2. 用docker来更新最新版本的gitlab</h3>
<p>Updated 2016-03-24 </p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre></td><td class="code"><pre>## 修改防火墙
iptables -A INPUT -m state --state NEW -p tcp --dport 10022 -j ACCEPT
iptables -A INPUT -m state --state NEW -p tcp --dport 8080 -j ACCEPT
service iptables save
service iptables status
service iptables restart
iptables -L

service docker restart
docker run --detach \
    -<span class="ruby">-hostname gitlab.example.com \
</span>    -<span class="ruby">-env <span class="constant">GITLAB_OMNIBUS_CONFIG</span>=<span class="string">"external_url 'http://119.*.*.*/'; gitlab_rails['lfs_enabled'] = true;"</span> \
</span>    -<span class="ruby">p <span class="number">443</span><span class="symbol">:</span><span class="number">443</span> -p <span class="number">8080</span><span class="symbol">:</span><span class="number">80</span> -p <span class="number">10022</span><span class="symbol">:</span><span class="number">22</span> \
</span>    -<span class="ruby">-name gitlab \
</span>    -<span class="ruby">-restart always \
</span>    -<span class="ruby">-volume /srv/gitlab/<span class="symbol">config:</span>/etc/gitlab \
</span>    -<span class="ruby">-volume /srv/gitlab/<span class="symbol">logs:</span>/var/log/gitlab \
</span>    -<span class="ruby">-volume /srv/gitlab/<span class="symbol">data:</span>/var/opt/gitlab \
</span>    gitlab/gitlab-ce:latest
</pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://buttonwood.bitbucket.org/2014/12/31/2014-12-31-gitlab/" data-id="60rlphv39t3r8s8l" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/git/">git</a></li></ul>

    </footer>
  </div>
  
</article>

<!-- DISQUS

-->



  
    <article id="post-2014-12-15-rChart" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/12/15/2014-12-15-rChart/" class="article-date">
  <time datetime="2014-12-15T03:51:00.000Z" itemprop="datePublished">Dec 15 2014</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Tools/">Tools</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/12/15/2014-12-15-rChart/">rChart and morris.js</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="1-_Using_rChart_and_morris-js_for_time_series_visualization">1. Using <code>rChart</code> and <code>morris.js</code> for time series visualization</h3>
<p>Here are the codes!</p>
<pre><code>library(<span class="string">'rCharts'</span>, <span class="string">'ramnathv'</span>)
df &lt;- <span class="built_in">read</span>.csv(<span class="string">"type.1h.csv"</span>,header=<span class="constant">FALSE</span>,stringsAsFactors=<span class="constant">FALSE</span>)
colnames(df) &lt;- c(<span class="string">"date"</span>,<span class="string">"1"</span>, <span class="string">"2"</span>,<span class="string">"3"</span>,<span class="string">"4"</span>,<span class="string">"5"</span>,<span class="string">"6"</span>,<span class="string">"7"</span>,<span class="string">"8"</span>,<span class="string">"9"</span>,<span class="string">"10"</span>)
transform(df, <span class="built_in">date</span> = <span class="keyword">as</span>.<span class="keyword">character</span>(<span class="built_in">date</span>))
m1 &lt;- mPlot(x = <span class="string">"date"</span>, y = c(<span class="string">"1"</span>, <span class="string">"2"</span>,<span class="string">"3"</span>,<span class="string">"4"</span>,<span class="string">"5"</span>,<span class="string">"6"</span>,<span class="string">"7"</span>,<span class="string">"8"</span>,<span class="string">"9"</span>,<span class="string">"10"</span>), type = <span class="string">"Line"</span>, data = df)
m1$<span class="built_in">set</span>(pointSize = <span class="number">0</span>, lineWidth = <span class="number">1</span>)
m1$print(<span class="string">"chart2"</span>)
m1
<span class="comment">#base64enc</span>
<span class="comment"># install.packages("base64enc")</span>
library(<span class="string">"base64enc"</span>)
m1$save(<span class="string">'graph1.html'</span>, <span class="string">'inline'</span>, cdn=<span class="constant">TRUE</span>)
<span class="comment">#m1$save('graph1.html', 'inline', standalone=TRUE)</span>
</code></pre><h4 id="2-_Graph">2. Graph</h4>
<p>Here, we can see this is a test graph!</p>
<p>Here is a test image!<br><img src="http://ww3.sinaimg.cn/mw690/6fbc15dcgw1enahmlkcp1j20n20b941c.jpg" alt=""></p>
<p>Here is a test page!<br><a href="../../../../fish/graph1.html">graph1.html</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://buttonwood.bitbucket.org/2014/12/15/2014-12-15-rChart/" data-id="rftyzgxwf2kspwec" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/R/">R</a></li></ul>

    </footer>
  </div>
  
</article>

<!-- DISQUS

-->



  
    <article id="post-python_pocker_reference" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/10/10/python_pocker_reference/" class="article-date">
  <time datetime="2014-10-10T07:43:00.000Z" itemprop="datePublished">Oct 10 2014</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Python/">Python</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/10/10/python_pocker_reference/">Python Pocket Reference</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <a id="more"></a>

<p>The Zen of Python</p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="code"><pre>Beautiful <span class="keyword">is</span> better than ugly.
<span class="keyword">Explicit</span> <span class="keyword">is</span> better than implicit.
Simple <span class="keyword">is</span> better than complex.
Complex <span class="keyword">is</span> better than complicated.
Flat <span class="keyword">is</span> better than nested.
Sparse <span class="keyword">is</span> better than dense.
Readability counts.
Special cases aren<span class="comment">'t special enough to break the rules.</span>
Although practicality beats purity.
Errors should never pass silently.
Unless explicitly silenced.
</pre></td></tr></table></figure>

<p>Packages</p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
</pre></td><td class="code"><pre>package/
    __init__<span class="preprocessor">.py</span>
    module1<span class="preprocessor">.py</span>
    subpackage/
        __init__<span class="preprocessor">.py</span>
        module2<span class="preprocessor">.py</span>
</pre></td></tr></table></figure>

<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
</pre></td><td class="code"><pre><span class="keyword">import</span> package.module1
<span class="keyword">from</span> packages.subpackage <span class="keyword">import</span> module2
<span class="keyword">from</span> packages.subpackage.module2 <span class="keyword">import</span> name
</pre></td></tr></table></figure>


<h3 id="References">References</h3>
<p><a href="https://www.python.org/dev/peps/pep-0008/" target="_blank" rel="external">https://www.python.org/dev/peps/pep-0008/</a><br>“Python Objects”, Fredrik Lundh, <a href="http://www.effbot.org/zone/python-objects.htm" target="_blank" rel="external">http://www.effbot.org/zone/python-objects.htm</a><br>“How to think like a Pythonista”, Mark Hammond, <a href="http://python.net/crew/mwh/hacks/objectthink.html" target="_blank" rel="external">http://python.net/crew/mwh/hacks/objectthink.html</a><br>“Python main() functions”, Guido van Rossum, <a href="http://www.artima.com/weblogs/viewpost.jsp?thread=4829" target="_blank" rel="external">http://www.artima.com/weblogs/viewpost.jsp?thread=4829</a><br>“Python Idioms and Efficiency”, <a href="http://jaynes.colorado.edu/PythonIdioms.html" target="_blank" rel="external">http://jaynes.colorado.edu/PythonIdioms.html</a><br>“Python track: python idioms”, <a href="http://www.cs.caltech.edu/courses/cs11/material/python/misc/python_idioms.html" target="_blank" rel="external">http://www.cs.caltech.edu/courses/cs11/material/python/misc/python_idioms.html</a><br>“Be Pythonic”, Shalabh Chaturvedi, <a href="http://shalabh.infogami.com/Be_Pythonic2" target="_blank" rel="external">http://shalabh.infogami.com/Be_Pythonic2</a><br>“Python Is Not Java”, Phillip J. Eby, <a href="http://dirtsimple.org/2004/12/python-is-not-java.html" target="_blank" rel="external">http://dirtsimple.org/2004/12/python-is-not-java.html</a><br>“What is Pythonic?”, Martijn Faassen, <a href="http://faassen.n--tree.net/blog/view/weblog/2005/08/06/0" target="_blank" rel="external">http://faassen.n--tree.net/blog/view/weblog/2005/08/06/0</a><br>“Sorting Mini-HOWTO”, Andrew Dalke, <a href="http://wiki.python.org/moin/HowTo/Sorting" target="_blank" rel="external">http://wiki.python.org/moin/HowTo/Sorting</a><br>“Python Idioms”, <a href="http://www.gungfu.de/facts/wiki/Main/PythonIdioms" target="_blank" rel="external">http://www.gungfu.de/facts/wiki/Main/PythonIdioms</a><br>“Python FAQs”, <a href="http://www.python.org/doc/faq/" target="_blank" rel="external">http://www.python.org/doc/faq/</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://buttonwood.bitbucket.org/2014/10/10/python_pocker_reference/" data-id="shyqap5c2yugdx08" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/">Python</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Tips/">Tips</a></li></ul>

    </footer>
  </div>
  
</article>

<!-- DISQUS

-->



  
    <article id="post-2014-08-27-time-monitoring" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/08/27/2014-08-27-time-monitoring/" class="article-date">
  <time datetime="2014-08-27T11:51:00.000Z" itemprop="datePublished">Aug 27 2014</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Tips/">Tips</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/08/27/2014-08-27-time-monitoring/">刷新时间检测</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>小伙伴后台跑的java程序总是莫名其妙卡死，于是帮他写了个脚本定时检查日志文件有没有更新，没有更新的话重启程序。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
</pre></td><td class="code"><pre><span class="shebang">#!/bin/bash </span>
today=`date +%Y-%m-%d`
logfi=<span class="string">'analysis'</span><span class="variable">$today</span><span class="string">'.log'</span>
otime=`stat -c %y /home/AnalysisLog/<span class="variable">$logfi</span>|awk <span class="string">'{print $2}'</span>`

<span class="keyword">while</span> ; <span class="keyword">do</span>
    ctime=`stat -c %y /home/AnalysisLog/<span class="variable">$logfi</span>|awk <span class="string">'{print $2}'</span>`
    <span class="keyword">if</span> [[ <span class="string">"<span class="variable">$otime</span>"</span> == <span class="string">"<span class="variable">$ctime</span>"</span>  ]]; <span class="keyword">then</span>
        `ps aux |grep <span class="variable">$cmp</span> |grep  -v <span class="string">"grep"</span> |awk <span class="string">'{print "kill -9\t"$2}'</span> |sh`
        `nohup /bin/sh /root/run/analysis/newAnalysis.bat &`
        sleep(<span class="number">30</span>) <span class="comment"># 等待重启 30s</span>
        today=`date +%Y-%m-%d`
        logfi=<span class="string">'analysis'</span><span class="variable">$today</span><span class="string">'.log'</span>
        otime=`stat -c %y /home/AnalysisLog/<span class="variable">$logfi</span>|awk <span class="string">'{print $2}'</span>`
        sleep(<span class="number">3600</span>) <span class="comment"># 一个小时以后再检查 </span>
    <span class="keyword">else</span>
        <span class="built_in">echo</span> <span class="string">"It is keeping updating!"</span>
    <span class="keyword">fi</span>  
    <span class="comment"># 时间更新</span>
    now=`date +%Y-%m-%d`
    today=<span class="variable">$now</span>
    logfi=<span class="string">'analysis'</span><span class="variable">$today</span><span class="string">'.log'</span>
    otime=`stat -c %y /home/AnalysisLog/<span class="variable">$logfi</span>|awk <span class="string">'{print $2}'</span>`
<span class="keyword">done</span>
</pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://buttonwood.bitbucket.org/2014/08/27/2014-08-27-time-monitoring/" data-id="q909r5bao0nw663m" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/git/">git</a></li></ul>

    </footer>
  </div>
  
</article>

<!-- DISQUS

-->



  
    <article id="post-2014-08-22-centOS-reinstall" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/08/22/2014-08-22-centOS-reinstall/" class="article-date">
  <time datetime="2014-08-22T02:51:00.000Z" itemprop="datePublished">Aug 22 2014</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Tips/">Tips</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/08/22/2014-08-22-centOS-reinstall/">服务器重装centOS设定静态ip</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>电信机房5台托管服务器被攻击，为安全起见，老板令我需要重装系统。可采用光盘刻录或u盘安装方法(过程从略)。</p>
<h3 id="1-_重装系统">1. 重装系统</h3>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
</pre></td><td class="code"><pre>reboot(crtl+allt+delete) 
-<span class="ruby">&gt; 
</span>F2(system manage) 
-<span class="ruby">&gt; 
</span>F11(BIOS Menu) 
-<span class="ruby">&gt; 
</span>BIOS Boot Setting 
-<span class="ruby">&gt;
</span>Boot Sequence 
-<span class="ruby">&gt; 
</span># 光盘或U盘
COD(DVD or U Driver) 
-<span class="ruby">&gt; 
</span>OK 
-<span class="ruby">&gt; 
</span>Install from video / U Driver
-<span class="ruby">&gt; 
</span>No Test 
-<span class="ruby">&gt; 
</span>Basic 
-<span class="ruby">&gt; 
</span>Fresh 
-<span class="ruby">&gt; 
</span>Use All 
-<span class="ruby">&gt; 
</span>Basic Server 
-<span class="ruby">&gt; 
</span>reboot
</pre></td></tr></table></figure>

<h3 id="2-_设置固定IP上网">2. 设置固定IP上网</h3>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
</pre></td><td class="code"><pre><span class="comment">#### 内网或外网ip</span>
IPADDR=<span class="number">192.168</span>.<span class="number">1.201</span>

<span class="comment">#### 2.1 网关配置</span>
cp /etc/sysconfig/network /etc/sysconfig/network.bak
<span class="built_in">echo</span> <span class="string">"
NETWORKING=yes
NETWORKING_IPV6=yes
GATEWAY=192.168.1.1
"</span> &gt;&gt; /etc/sysconfig/network

<span class="comment">#### 2.2 网卡配置 </span>
cp /etc/sysconfig/network-scripts/ifcfg-em1 /etc/sysconfig/network-scripts/ifcfg-em1.bak
sed -i <span class="string">'s/BOOTPROTO=dhcp/BOOTPROTO=none/'</span> /etc/sysconfig/network-scripts/ifcfg-em1
sed -i <span class="string">'s/ONBOOT=no/ONBOOT=yes/'</span> /etc/sysconfig/network-scripts/ifcfg-em1

<span class="built_in">echo</span> <span class="string">"
BROADCAST=192.168.1.255
IPADDR=<span class="variable">$IPADDR</span>
NETWORK=192.168.1.0
"</span> &gt;&gt;/etc/sysconfig/network-scripts/ifcfg-em1

<span class="comment">#### 2.3 DNS解析</span>
<span class="built_in">echo</span> <span class="string">"nameserver 202.103.24.68"</span> &gt;/etc/resolv.conf

<span class="comment">#### 2.4 测试</span>
chkconfig | grep network
service network restart
ping www.baidu.com
</pre></td></tr></table></figure>

<h3 id="3-_参考">3. 参考</h3>
<p><a href="http://blog.51yip.com/linux/1120.html" target="_blank" rel="external">http://blog.51yip.com/linux/1120.html</a><br><a href="https://github.com/iofdata/DM/issues/8" target="_blank" rel="external">https://github.com/iofdata/DM/issues/8</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://buttonwood.bitbucket.org/2014/08/22/2014-08-22-centOS-reinstall/" data-id="2lqx105ner05neik" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/centOS/">centOS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/network/">network</a></li></ul>

    </footer>
  </div>
  
</article>

<!-- DISQUS

-->



  
    <article id="post-2014-07-25-sysbench-mysql" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/07/25/2014-07-25-sysbench-mysql/" class="article-date">
  <time datetime="2014-07-25T15:51:00.000Z" itemprop="datePublished">Jul 25 2014</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/MySQL/">MySQL</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/07/25/2014-07-25-sysbench-mysql/">Sysbench for MySQL Testing</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="1-_For_whole_testing_scripts">1. For whole testing scripts</h3>
<pre><code>    host<span class="subst">=</span>localhost
    port<span class="subst">=</span><span class="number">3306</span>
    socket<span class="subst">=</span>/home/<span class="built_in">data</span>/mysql/mysql<span class="built_in">.</span>sock
    user<span class="subst">=</span>root
    password<span class="subst">=</span><span class="number">123456</span>

    resultsdir<span class="subst">=</span><span class="built_in">.</span>/results<span class="attribute">-thread</span>

    threads<span class="subst">=</span><span class="string">"8 16 32 64 128"</span>

    sizes<span class="subst">=</span><span class="string">"1000000 5000000 10000000 15000000 20000000 25000000 30000000"</span>


    printf <span class="string">"sizes,threads,transactions,trns p/s,deadlocks, dls p/s,read/write requests,r/w reqs p/s,min,avg,max,99 percentile \n"</span> <span class="subst">&gt;&gt;</span> stat<span class="built_in">.</span>txt

    mkdir <span class="attribute">-p</span> <span class="variable">$resultsdir</span>

    for <span class="keyword">thread</span> <span class="keyword">in</span> <span class="variable">$threads</span>;<span class="keyword">do</span>
        mkdir <span class="variable">$resultsdir</span>/<span class="keyword">thread</span><span class="subst">-</span><span class="variable">$thread</span>
        for size <span class="keyword">in</span> <span class="variable">$sizes</span>; <span class="keyword">do</span>
            sysbench <span class="subst">--</span>test<span class="subst">=</span>oltp <span class="subst">--</span>mysql<span class="attribute">-table</span><span class="attribute">-engine</span><span class="subst">=</span>innodb <span class="subst">\</span>
            <span class="subst">--</span>oltp<span class="attribute">-table</span><span class="attribute">-size</span><span class="subst">=</span><span class="variable">$size</span>  <span class="subst">--</span>mysql<span class="attribute">-socket</span><span class="subst">=</span><span class="variable">$socket</span> <span class="subst">\</span>
            <span class="subst">--</span>mysql<span class="attribute">-user</span><span class="subst">=</span><span class="variable">$user</span> <span class="subst">--</span>mysql<span class="attribute">-host</span><span class="subst">=</span><span class="variable">$host</span> <span class="subst">\</span>
            <span class="subst">--</span>mysql<span class="attribute">-password</span><span class="subst">=</span><span class="variable">$password</span> <span class="subst">--</span>mysql<span class="attribute">-db</span><span class="subst">=</span>students <span class="subst">\</span>
            <span class="subst">--</span>oltp<span class="attribute">-table</span><span class="attribute">-name</span><span class="subst">=</span>test<span class="variable">$size</span> prepare;
            sysbench <span class="subst">--</span>test<span class="subst">=</span>oltp <span class="subst">--</span>mysql<span class="attribute">-table</span><span class="attribute">-engine</span><span class="subst">=</span>innodb <span class="subst">\</span>
            <span class="subst">--</span>oltp<span class="attribute">-table</span><span class="attribute">-size</span><span class="subst">=</span><span class="variable">$size</span> <span class="subst">--</span>mysql<span class="attribute">-socket</span><span class="subst">=</span><span class="variable">$socket</span> <span class="subst">\</span>
            <span class="subst">--</span>mysql<span class="attribute">-user</span><span class="subst">=</span><span class="variable">$user</span> <span class="subst">--</span>mysql<span class="attribute">-host</span><span class="subst">=</span><span class="variable">$host</span> <span class="subst">\</span>
            <span class="subst">--</span>mysql<span class="attribute">-password</span><span class="subst">=</span><span class="variable">$password</span> <span class="subst">--</span>mysql<span class="attribute">-db</span><span class="subst">=</span>students <span class="subst">\</span>
            <span class="subst">--</span>oltp<span class="attribute">-table</span><span class="attribute">-name</span><span class="subst">=</span>test<span class="variable">$size</span>  <span class="subst">--</span><span class="keyword">max</span><span class="attribute">-requests</span><span class="subst">=</span><span class="number">1000</span> <span class="subst">\</span>
            <span class="subst">--</span>num<span class="attribute">-threads</span><span class="subst">=</span><span class="variable">$thread</span> run <span class="subst">|</span> <span class="subst">\</span> 
            tee <span class="attribute">-a</span> <span class="variable">$resultsdir</span>/<span class="keyword">thread</span><span class="subst">-</span><span class="variable">$thread</span>/sysbench<span class="built_in">.</span><span class="variable">$thread.</span><span class="variable">$size.report</span>;
            sysbench <span class="subst">--</span>test<span class="subst">=</span>oltp <span class="subst">--</span>mysql<span class="attribute">-host</span><span class="subst">=</span><span class="variable">$host</span>  <span class="subst">--</span>mysql<span class="attribute">-user</span><span class="subst">=</span><span class="variable">$user</span> <span class="subst">\</span>
            <span class="subst">--</span>mysql<span class="attribute">-password</span><span class="subst">=</span><span class="variable">$password</span> <span class="subst">--</span>mysql<span class="attribute">-socket</span><span class="subst">=</span><span class="variable">$socket</span> <span class="subst">\</span>
            <span class="subst">--</span>mysql<span class="attribute">-db</span><span class="subst">=</span>students <span class="subst">--</span>oltp<span class="attribute">-table</span><span class="attribute">-name</span><span class="subst">=</span>test<span class="variable">$size</span>  cleanup;

            cat <span class="variable">$resultsdir</span>/<span class="keyword">thread</span><span class="subst">-</span><span class="variable">$thread</span>/sysbench<span class="built_in">.</span><span class="variable">$thread.</span><span class="variable">$size.report</span> <span class="subst">|</span> <span class="subst">\</span>
            egrep <span class="string">"cat|threads:|transactions:|deadlocks|
            read/write|min:|avg:|max:|percentile:"</span> <span class="subst">|</span> <span class="subst">\</span>
            sed  <span class="attribute">-e</span> <span class="string">'1 s/Number of threads: //'</span> <span class="subst">|</span> <span class="subst">\</span>
            tr <span class="attribute">-d</span> <span class="string">"\n"</span> <span class="subst">|</span> <span class="subst">\</span>
            sed <span class="attribute">-e</span> <span class="string">'s/Number of threads: /\n/g'</span> <span class="subst">\</span>
            <span class="attribute">-e</span> <span class="string">'s/[A-Za-z\/]\{1,\}://g'</span> <span class="subst">\</span>
            <span class="attribute">-e</span> <span class="string">'s/read\/write//g'</span> <span class="subst">\</span>
            <span class="attribute">-e</span> <span class="string">'s/approx\.  95//g'</span> <span class="subst">\</span>
            <span class="attribute">-e</span> <span class="string">'s/per sec.)//g'</span> <span class="subst">\</span>
            <span class="attribute">-e</span> <span class="string">'s/ms//g'</span> <span class="subst">\</span>
            <span class="attribute">-e</span> <span class="string">'s/(//g'</span>  <span class="subst">\</span>
            <span class="attribute">-e</span> <span class="string">'s/  */,/g'</span> <span class="subst">|</span> awk <span class="attribute">-v</span> d<span class="subst">=</span><span class="variable">$size</span> <span class="string">'{$0=d","$0}1'</span> <span class="subst">&gt;&gt;</span> stat<span class="built_in">.</span>txt
        done
    done
</code></pre><h3 id="2-_Results">2. Results</h3>
<pre><code>SIZES,THREADS,TRANSACTIONS,TRNS P/S,DEADLOCKS,DLS P/S,READ/WRITE REQUESTS,R/W REQS P/S,<span class="keyword">MIN</span>,AVG,<span class="keyword">MAX</span>,<span class="number">99</span> PERCENTILE
<span class="number">1000000</span>,<span class="number">8</span>,<span class="number">1000</span>,<span class="number">236.13</span>,<span class="number">0</span>,<span class="number">0.00</span>,<span class="number">19000</span>,<span class="number">4486.45</span>,<span class="number">7.16</span>,<span class="number">33.66</span>,<span class="number">118.17</span>,<span class="number">59.32</span>
<span class="number">5000000</span>,<span class="number">8</span>,<span class="number">1000</span>,<span class="number">265.81</span>,<span class="number">0</span>,<span class="number">0.00</span>,<span class="number">19000</span>,<span class="number">5050.47</span>,<span class="number">6.35</span>,<span class="number">29.99</span>,<span class="number">99.14</span>,<span class="number">46.96</span>
<span class="number">10000000</span>,<span class="number">8</span>,<span class="number">1000</span>,<span class="number">379.46</span>,<span class="number">127</span>,<span class="number">48.19</span>,<span class="number">21413</span>,<span class="number">8125.43</span>,<span class="number">3.54</span>,<span class="number">21.01</span>,<span class="number">306.08</span>,<span class="number">34.70</span>
<span class="number">15000000</span>,<span class="number">8</span>,<span class="number">1000</span>,<span class="number">202.33</span>,<span class="number">0</span>,<span class="number">0.00</span>,<span class="number">19000</span>,<span class="number">3844.31</span>,<span class="number">8.76</span>,<span class="number">39.36</span>,<span class="number">113.15</span>,<span class="number">62.77</span>
<span class="number">20000000</span>,<span class="number">8</span>,<span class="number">1000</span>,<span class="number">185.34</span>,<span class="number">0</span>,<span class="number">0.00</span>,<span class="number">19000</span>,<span class="number">3521.38</span>,<span class="number">10.48</span>,<span class="number">43.05</span>,<span class="number">111.56</span>,<span class="number">66.92</span>
<span class="number">25000000</span>,<span class="number">8</span>,<span class="number">1000</span>,<span class="number">171.11</span>,<span class="number">0</span>,<span class="number">0.00</span>,<span class="number">19000</span>,<span class="number">3251.01</span>,<span class="number">7.46</span>,<span class="number">46.69</span>,<span class="number">506.47</span>,<span class="number">74.60</span>
<span class="number">30000000</span>,<span class="number">8</span>,<span class="number">1000</span>,<span class="number">163.24</span>,<span class="number">0</span>,<span class="number">0.00</span>,<span class="number">19000</span>,<span class="number">3101.55</span>,<span class="number">14.49</span>,<span class="number">48.91</span>,<span class="number">504.90</span>,<span class="number">77.21</span>
<span class="number">1000000</span>,<span class="number">16</span>,<span class="number">1000</span>,<span class="number">288.82</span>,<span class="number">0</span>,<span class="number">0.00</span>,<span class="number">19000</span>,<span class="number">5487.51</span>,<span class="number">7.82</span>,<span class="number">54.95</span>,<span class="number">168.84</span>,<span class="number">89.33</span>
<span class="number">5000000</span>,<span class="number">16</span>,<span class="number">1000</span>,<span class="number">270.04</span>,<span class="number">0</span>,<span class="number">0.00</span>,<span class="number">19000</span>,<span class="number">5130.82</span>,<span class="number">19.13</span>,<span class="number">59.02</span>,<span class="number">323.48</span>,<span class="number">92.27</span>
<span class="number">10000000</span>,<span class="number">16</span>,<span class="number">1000</span>,<span class="number">231.99</span>,<span class="number">0</span>,<span class="number">0.00</span>,<span class="number">19000</span>,<span class="number">4407.90</span>,<span class="number">5.73</span>,<span class="number">68.45</span>,<span class="number">329.40</span>,<span class="number">112.02</span>
<span class="number">15000000</span>,<span class="number">16</span>,<span class="number">1000</span>,<span class="number">230.78</span>,<span class="number">0</span>,<span class="number">0.00</span>,<span class="number">19000</span>,<span class="number">4384.76</span>,<span class="number">8.29</span>,<span class="number">69.03</span>,<span class="number">233.97</span>,<span class="number">124.21</span>
<span class="number">20000000</span>,<span class="number">16</span>,<span class="number">1000</span>,<span class="number">170.32</span>,<span class="number">0</span>,<span class="number">0.00</span>,<span class="number">19000</span>,<span class="number">3236.17</span>,<span class="number">9.48</span>,<span class="number">93.60</span>,<span class="number">799.09</span>,<span class="number">158.71</span>
<span class="number">25000000</span>,<span class="number">16</span>,<span class="number">1000</span>,<span class="number">164.44</span>,<span class="number">0</span>,<span class="number">0.00</span>,<span class="number">19000</span>,<span class="number">3124.34</span>,<span class="number">5.68</span>,<span class="number">96.44</span>,<span class="number">633.64</span>,<span class="number">165.06</span>
<span class="number">30000000</span>,<span class="number">16</span>,<span class="number">1000</span>,<span class="number">174.87</span>,<span class="number">0</span>,<span class="number">0.00</span>,<span class="number">19000</span>,<span class="number">3322.48</span>,<span class="number">9.50</span>,<span class="number">90.89</span>,<span class="number">520.92</span>,<span class="number">151.65</span>
<span class="number">1000000</span>,<span class="number">32</span>,<span class="number">1000</span>,<span class="number">316.29</span>,<span class="number">0</span>,<span class="number">0.00</span>,<span class="number">19000</span>,<span class="number">6009.43</span>,<span class="number">7.72</span>,<span class="number">99.23</span>,<span class="number">346.24</span>,<span class="number">172.95</span>
<span class="number">5000000</span>,<span class="number">32</span>,<span class="number">1000</span>,<span class="number">248.03</span>,<span class="number">0</span>,<span class="number">0.00</span>,<span class="number">19000</span>,<span class="number">4712.60</span>,<span class="number">23.21</span>,<span class="number">125.06</span>,<span class="number">383.60</span>,<span class="number">208.35</span>
<span class="number">10000000</span>,<span class="number">32</span>,<span class="number">1000</span>,<span class="number">229.40</span>,<span class="number">0</span>,<span class="number">0.00</span>,<span class="number">19000</span>,<span class="number">4358.52</span>,<span class="number">5.39</span>,<span class="number">138.82</span>,<span class="number">598.64</span>,<span class="number">350.74</span>
<span class="number">15000000</span>,<span class="number">32</span>,<span class="number">1000</span>,<span class="number">211.46</span>,<span class="number">0</span>,<span class="number">0.00</span>,<span class="number">19000</span>,<span class="number">4017.80</span>,<span class="number">13.27</span>,<span class="number">150.13</span>,<span class="number">501.56</span>,<span class="number">284.44</span>
<span class="number">20000000</span>,<span class="number">32</span>,<span class="number">1000</span>,<span class="number">198.36</span>,<span class="number">0</span>,<span class="number">0.00</span>,<span class="number">19000</span>,<span class="number">3768.77</span>,<span class="number">8.54</span>,<span class="number">159.58</span>,<span class="number">822.41</span>,<span class="number">252.87</span>
<span class="number">25000000</span>,<span class="number">32</span>,<span class="number">1000</span>,<span class="number">181.85</span>,<span class="number">0</span>,<span class="number">0.00</span>,<span class="number">19000</span>,<span class="number">3455.19</span>,<span class="number">21.85</span>,<span class="number">174.35</span>,<span class="number">891.91</span>,<span class="number">271.78</span>
<span class="number">30000000</span>,<span class="number">32</span>,<span class="number">1000</span>,<span class="number">156.00</span>,<span class="number">0</span>,<span class="number">0.00</span>,<span class="number">19000</span>,<span class="number">2964.03</span>,<span class="number">9.45</span>,<span class="number">204.21</span>,<span class="number">811.06</span>,<span class="number">339.07</span>
<span class="number">1000000</span>,<span class="number">64</span>,<span class="number">1000</span>,<span class="number">311.37</span>,<span class="number">0</span>,<span class="number">0.00</span>,<span class="number">19000</span>,<span class="number">5916.07</span>,<span class="number">19.86</span>,<span class="number">198.48</span>,<span class="number">562.27</span>,<span class="number">369.82</span>
<span class="number">5000000</span>,<span class="number">64</span>,<span class="number">1000</span>,<span class="number">287.12</span>,<span class="number">0</span>,<span class="number">0.00</span>,<span class="number">19000</span>,<span class="number">5455.27</span>,<span class="number">29.12</span>,<span class="number">216.80</span>,<span class="number">843.55</span>,<span class="number">338.67</span>
<span class="number">10000000</span>,<span class="number">64</span>,<span class="number">1000</span>,<span class="number">222.90</span>,<span class="number">0</span>,<span class="number">0.00</span>,<span class="number">19000</span>,<span class="number">4235.16</span>,<span class="number">13.82</span>,<span class="number">285.81</span>,<span class="number">975.70</span>,<span class="number">773.48</span>
<span class="number">15000000</span>,<span class="number">64</span>,<span class="number">1000</span>,<span class="number">193.57</span>,<span class="number">0</span>,<span class="number">0.00</span>,<span class="number">19000</span>,<span class="number">3677.74</span>,<span class="number">12.19</span>,<span class="number">327.30</span>,<span class="number">1143.78</span>,<span class="number">846.66</span>
<span class="number">20000000</span>,<span class="number">64</span>,<span class="number">1000</span>,<span class="number">170.73</span>,<span class="number">0</span>,<span class="number">0.00</span>,<span class="number">19000</span>,<span class="number">3243.88</span>,<span class="number">55.67</span>,<span class="number">370.57</span>,<span class="number">1217.91</span>,<span class="number">1092.95</span>
<span class="number">25000000</span>,<span class="number">64</span>,<span class="number">1000</span>,<span class="number">157.72</span>,<span class="number">0</span>,<span class="number">0.00</span>,<span class="number">19000</span>,<span class="number">2996.74</span>,<span class="number">11.59</span>,<span class="number">401.83</span>,<span class="number">1680.79</span>,<span class="number">1306.81</span>
<span class="number">30000000</span>,<span class="number">64</span>,<span class="number">1000</span>,<span class="number">158.19</span>,<span class="number">0</span>,<span class="number">0.00</span>,<span class="number">19000</span>,<span class="number">3005.66</span>,<span class="number">19.20</span>,<span class="number">401.41</span>,<span class="number">1304.60</span>,<span class="number">1107.11</span>
<span class="number">1000000</span>,<span class="number">128</span>,<span class="number">1000</span>,<span class="number">302.16</span>,<span class="number">0</span>,<span class="number">0.00</span>,<span class="number">19000</span>,<span class="number">5741.04</span>,<span class="number">52.05</span>,<span class="number">408.05</span>,<span class="number">1041.78</span>,<span class="number">772.32</span>
<span class="number">5000000</span>,<span class="number">128</span>,<span class="number">1000</span>,<span class="number">251.01</span>,<span class="number">0</span>,<span class="number">0.00</span>,<span class="number">19000</span>,<span class="number">4769.20</span>,<span class="number">26.99</span>,<span class="number">489.92</span>,<span class="number">1724.37</span>,<span class="number">781.39</span>
<span class="number">10000000</span>,<span class="number">128</span>,<span class="number">1000</span>,<span class="number">207.77</span>,<span class="number">0</span>,<span class="number">0.00</span>,<span class="number">19000</span>,<span class="number">3947.55</span>,<span class="number">102.64</span>,<span class="number">604.39</span>,<span class="number">1577.85</span>,<span class="number">1285.85</span>
<span class="number">15000000</span>,<span class="number">128</span>,<span class="number">1000</span>,<span class="number">149.60</span>,<span class="number">0</span>,<span class="number">0.00</span>,<span class="number">19000</span>,<span class="number">2842.35</span>,<span class="number">146.68</span>,<span class="number">841.09</span>,<span class="number">3348.05</span>,<span class="number">2764.42</span>
<span class="number">20000000</span>,<span class="number">128</span>,<span class="number">1000</span>,<span class="number">145.41</span>,<span class="number">0</span>,<span class="number">0.00</span>,<span class="number">19000</span>,<span class="number">2762.83</span>,<span class="number">132.31</span>,<span class="number">865.04</span>,<span class="number">3247.91</span>,<span class="number">2620.98</span>
<span class="number">25000000</span>,<span class="number">128</span>,<span class="number">1000</span>,<span class="number">139.95</span>,<span class="number">0</span>,<span class="number">0.00</span>,<span class="number">19000</span>,<span class="number">2658.97</span>,<span class="number">252.97</span>,<span class="number">896.25</span>,<span class="number">2942.05</span>,<span class="number">2773.54</span>
<span class="number">30000000</span>,<span class="number">128</span>,<span class="number">1000</span>,<span class="number">115.80</span>,<span class="number">0</span>,<span class="number">0.00</span>,<span class="number">19000</span>,<span class="number">2200.18</span>,<span class="number">221.51</span>,<span class="number">1089.31</span>,<span class="number">4408.08</span>,<span class="number">4141.01</span> 
</code></pre><h3 id="3-_Visulization">3. Visulization</h3>
<pre><code><span class="function"><span class="title">library</span><span class="params">(<span class="string">"ggplot2"</span>)</span>
<span class="title">df</span> &lt;- <span class="title">read</span>.<span class="title">csv</span><span class="params">(<span class="string">"C:\\Users\\tanhao\\Documents\\GitHub\\DM\\mysql\\work\\stat.csv"</span>,head=<span class="variable">TRUE</span>)</span>
<span class="title">ggplot</span><span class="params">(df, <span class="function_name">aes</span>(x = <span class="function_name">factor</span>(sizes), y = trns.p.s, fill=<span class="function_name">factor</span>(threads)))</span> + <span class="title">geom_bar</span><span class="params">(stat = <span class="string">"identity"</span>, position=<span class="string">"dodge"</span>)</span></span>
</code></pre><p><img src="https://cloud.githubusercontent.com/assets/1680943/3700027/1d8dea4a-13db-11e4-9043-31028496d885.png" alt="image"></p>
<p>以上数据为一台1核1G主机的性能测试结果.</p>
<p>欢迎参见<a href="https://github.com/iofdata/DM/issues/5" target="_blank" rel="external">Details</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://buttonwood.bitbucket.org/2014/07/25/2014-07-25-sysbench-mysql/" data-id="938ousemna37sdyw" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MySQL/">MySQL</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Tools/">Tools</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/sysbench/">sysbench</a></li></ul>

    </footer>
  </div>
  
</article>

<!-- DISQUS

-->



  
    <article id="post-2014-07-24-sysbench-testing" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/07/24/2014-07-24-sysbench-testing/" class="article-date">
  <time datetime="2014-07-24T15:51:00.000Z" itemprop="datePublished">Jul 24 2014</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/MySQL/">MySQL</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/07/24/2014-07-24-sysbench-testing/">sysbench testing</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="sysbench_测试">sysbench 测试</h3>
<h4 id="1_cpu_性能测试">1 cpu 性能测试</h4>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
</pre></td><td class="code"><pre><span class="comment">sysbench</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">test=cpu</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">cpu</span><span class="literal">-</span><span class="comment">max</span><span class="literal">-</span><span class="comment">prime=20000</span> <span class="comment">run</span>
</pre></td></tr></table></figure><br>cpu测试主要是进行素数的加法运算，在上面的例子中，<br>指定了最大的素数为 20000，自己可以根据机器cpu的性能来适当调整数值。<br><figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
</pre></td><td class="code"><pre>sysbench <span class="number">0.4</span><span class="number">.10</span>:  multi-threaded <span class="keyword">system</span> evaluation benchmark

Running <span class="operator">the</span> test <span class="operator">with</span> following options:
Number <span class="operator">of</span> threads: <span class="number">1</span>

Doing CPU performance benchmark

Threads started!

Done.

Maximum prime <span class="built_in">number</span> checked <span class="operator">in</span> CPU test: <span class="number">20000</span>


Test execution summary:
    total <span class="built_in">time</span>:                          <span class="number">30.5083</span>s
    total <span class="built_in">number</span> <span class="operator">of</span> events:              <span class="number">10000</span>
    total <span class="built_in">time</span> taken <span class="keyword">by</span> event execution: <span class="number">30.5043</span>
    per-request statistics:
         <span class="built_in">min</span>:                                  <span class="number">2.83</span>ms
         <span class="built_in">avg</span>:                                  <span class="number">3.05</span>ms
         <span class="built_in">max</span>:                                  <span class="number">6.46</span>ms
         approx.  <span class="number">95</span> percentile:               <span class="number">3.48</span>ms

Threads fairness:
    events (<span class="built_in">avg</span>/stddev):           <span class="number">10000.0000</span>/<span class="number">0.00</span>
    execution <span class="built_in">time</span> (<span class="built_in">avg</span>/stddev):   <span class="number">30.5043</span>/<span class="number">0.00</span>
</pre></td></tr></table></figure>

<h4 id="2_线程测试">2 线程测试</h4>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
</pre></td><td class="code"><pre>sysbench <span class="subst">--</span>test<span class="subst">=</span>threads <span class="subst">--</span>num<span class="attribute">-threads</span><span class="subst">=</span><span class="number">64</span> <span class="subst">--</span><span class="keyword">thread</span><span class="attribute">-yields</span><span class="subst">=</span><span class="number">100</span> <span class="subst">--</span><span class="keyword">thread</span><span class="attribute">-locks</span><span class="subst">=</span><span class="number">2</span> run
</pre></td></tr></table></figure>

<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
</pre></td><td class="code"><pre>sysbench <span class="number">0.4</span><span class="number">.10</span>:  multi-threaded <span class="keyword">system</span> evaluation benchmark

Running <span class="operator">the</span> test <span class="operator">with</span> following options:
Number <span class="operator">of</span> threads: <span class="number">64</span>

Doing thread subsystem performance test
Thread yields per test: <span class="number">100</span> Locks used: <span class="number">2</span>
Threads started!
Done.


Test execution summary:
    total <span class="built_in">time</span>:                          <span class="number">0.6215</span>s
    total <span class="built_in">number</span> <span class="operator">of</span> events:              <span class="number">10000</span>
    total <span class="built_in">time</span> taken <span class="keyword">by</span> event execution: <span class="number">39.3849</span>
    per-request statistics:
         <span class="built_in">min</span>:                                  <span class="number">0.04</span>ms
         <span class="built_in">avg</span>:                                  <span class="number">3.94</span>ms
         <span class="built_in">max</span>:                                 <span class="number">85.26</span>ms
         approx.  <span class="number">95</span> percentile:              <span class="number">30.41</span>ms

Threads fairness:
    events (<span class="built_in">avg</span>/stddev):           <span class="number">156.2500</span>/<span class="number">10.52</span>
    execution <span class="built_in">time</span> (<span class="built_in">avg</span>/stddev):   <span class="number">0.6154</span>/<span class="number">0.00</span>
</pre></td></tr></table></figure>

<h4 id="3_磁盘IO性能测试，随机读写和删除">3 磁盘IO性能测试，随机读写和删除</h4>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
</pre></td><td class="code"><pre>sysbench <span class="subst">--</span>test<span class="subst">=</span>fileio <span class="subst">--</span>num<span class="attribute">-threads</span><span class="subst">=</span><span class="number">16</span> <span class="subst">--</span>file<span class="attribute">-total</span><span class="attribute">-size</span><span class="subst">=</span><span class="number">3</span>G <span class="subst">--</span>file<span class="attribute">-test</span><span class="attribute">-mode</span><span class="subst">=</span>rndrw prepare
sysbench <span class="subst">--</span>test<span class="subst">=</span>fileio <span class="subst">--</span>num<span class="attribute">-threads</span><span class="subst">=</span><span class="number">16</span> <span class="subst">--</span>file<span class="attribute">-total</span><span class="attribute">-size</span><span class="subst">=</span><span class="number">3</span>G <span class="subst">--</span>file<span class="attribute">-test</span><span class="attribute">-mode</span><span class="subst">=</span>rndrw run
sysbench <span class="subst">--</span>test<span class="subst">=</span>fileio <span class="subst">--</span>num<span class="attribute">-threads</span><span class="subst">=</span><span class="number">16</span> <span class="subst">--</span>file<span class="attribute">-total</span><span class="attribute">-size</span><span class="subst">=</span><span class="number">3</span>G <span class="subst">--</span>file<span class="attribute">-test</span><span class="attribute">-mode</span><span class="subst">=</span>rndrw cleanup
</pre></td></tr></table></figure><br>上述参数指定了最大创建16个线程，创建的文件总大小为3G，文件读写模式为随机读。<br><figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
</pre></td><td class="code"><pre>sysbench <span class="number">0.4</span><span class="number">.10</span>:  multi-threaded <span class="keyword">system</span> evaluation benchmark

Running <span class="operator">the</span> test <span class="operator">with</span> following options:
Number <span class="operator">of</span> threads: <span class="number">64</span>

Doing thread subsystem performance test
Thread yields per test: <span class="number">100</span> Locks used: <span class="number">2</span>
Threads started!
Done.


Test execution summary:
    total <span class="built_in">time</span>:                          <span class="number">0.6215</span>s
    total <span class="built_in">number</span> <span class="operator">of</span> events:              <span class="number">10000</span>
    total <span class="built_in">time</span> taken <span class="keyword">by</span> event execution: <span class="number">39.3849</span>
    per-request statistics:
         <span class="built_in">min</span>:                                  <span class="number">0.04</span>ms
         <span class="built_in">avg</span>:                                  <span class="number">3.94</span>ms
         <span class="built_in">max</span>:                                 <span class="number">85.26</span>ms
         approx.  <span class="number">95</span> percentile:              <span class="number">30.41</span>ms

Threads fairness:
    events (<span class="built_in">avg</span>/stddev):           <span class="number">156.2500</span>/<span class="number">10.52</span>
    execution <span class="built_in">time</span> (<span class="built_in">avg</span>/stddev):   <span class="number">0.6154</span>/<span class="number">0.00</span>
</pre></td></tr></table></figure>

<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
</pre></td><td class="code"><pre>sysbench <span class="number">0.4</span><span class="number">.10</span>:  multi-threaded <span class="keyword">system</span> evaluation benchmark

Running <span class="operator">the</span> test <span class="operator">with</span> following options:
Number <span class="operator">of</span> threads: <span class="number">16</span>

Extra <span class="built_in">file</span> <span class="built_in">open</span> flags: <span class="number">0</span>
<span class="number">128</span> <span class="built_in">files</span>, <span class="number">24</span>Mb <span class="keyword">each</span>
<span class="number">3</span>Gb total <span class="built_in">file</span> size
Block size <span class="number">16</span>Kb
Number <span class="operator">of</span> <span class="built_in">random</span> requests <span class="keyword">for</span> <span class="built_in">random</span> IO: <span class="number">10000</span>
Read/Write ratio <span class="keyword">for</span> combined <span class="built_in">random</span> IO test: <span class="number">1.50</span>
Periodic FSYNC enabled, calling fsync() <span class="keyword">each</span> <span class="number">100</span> requests.
Calling fsync() <span class="keyword">at</span> <span class="operator">the</span> <span class="function"><span class="keyword">end</span> <span class="title">of</span> <span class="title">test</span>, <span class="title">Enabled</span>.</span>
Using synchronous I/O mode
Doing <span class="built_in">random</span> r/w test
Threads started!
FATAL: Failed <span class="built_in">to</span> <span class="built_in">read</span> <span class="built_in">file</span>! <span class="built_in">file</span>: <span class="number">3</span> pos: <span class="number">0</span> errno = <span class="number">0</span> (Q?)
FATAL: Failed <span class="built_in">to</span> <span class="built_in">read</span> <span class="built_in">file</span>! <span class="built_in">file</span>: <span class="number">3</span> pos: <span class="number">6340608</span> errno = <span class="number">0</span> ()
FATAL: Failed <span class="built_in">to</span> <span class="built_in">read</span> <span class="built_in">file</span>! <span class="built_in">file</span>: <span class="number">13</span> pos: <span class="number">16531456</span> errno = <span class="number">0</span> ()
FATAL: Failed <span class="built_in">to</span> <span class="built_in">read</span> <span class="built_in">file</span>! <span class="built_in">file</span>: <span class="number">48</span> pos: <span class="number">5537792</span> errno = <span class="number">0</span> ()
FATAL: Failed <span class="built_in">to</span> <span class="built_in">read</span> <span class="built_in">file</span>! <span class="built_in">file</span>: <span class="number">96</span> pos: <span class="number">8503296</span> errno = <span class="number">0</span> ()
FATAL: Failed <span class="built_in">to</span> <span class="built_in">read</span> <span class="built_in">file</span>! <span class="built_in">file</span>: <span class="number">26</span> pos: <span class="number">9568256</span> errno = <span class="number">0</span> ()
FATAL: Failed <span class="built_in">to</span> <span class="built_in">read</span> <span class="built_in">file</span>! <span class="built_in">file</span>: <span class="number">26</span> pos: <span class="number">15794176</span> errno = <span class="number">0</span> ()
FATAL: Failed <span class="built_in">to</span> <span class="built_in">read</span> <span class="built_in">file</span>! <span class="built_in">file</span>: <span class="number">127</span> pos: <span class="number">18300928</span> errno = <span class="number">0</span> ()
FATAL: Failed <span class="built_in">to</span> <span class="built_in">read</span> <span class="built_in">file</span>! <span class="built_in">file</span>: <span class="number">9</span> pos: <span class="number">21331968</span> errno = <span class="number">0</span> ()
FATAL: Failed <span class="built_in">to</span> <span class="built_in">read</span> <span class="built_in">file</span>! <span class="built_in">file</span>: <span class="number">119</span> pos: <span class="number">8421376</span> errno = <span class="number">0</span> ()
FATAL: Failed <span class="built_in">to</span> <span class="built_in">read</span> <span class="built_in">file</span>! <span class="built_in">file</span>: <span class="number">62</span> pos: <span class="number">17448960</span> errno = <span class="number">0</span> ()
FATAL: Failed <span class="built_in">to</span> <span class="built_in">read</span> <span class="built_in">file</span>! <span class="built_in">file</span>: <span class="number">87</span> pos: <span class="number">20398080</span> errno = <span class="number">0</span> ()
FATAL: Failed <span class="built_in">to</span> <span class="built_in">read</span> <span class="built_in">file</span>! <span class="built_in">file</span>: <span class="number">113</span> pos: <span class="number">13156352</span> errno = <span class="number">0</span> ()
FATAL: Failed <span class="built_in">to</span> <span class="built_in">read</span> <span class="built_in">file</span>! <span class="built_in">file</span>: <span class="number">20</span> pos: <span class="number">10649600</span> errno = <span class="number">0</span> ()
FATAL: Failed <span class="built_in">to</span> <span class="built_in">read</span> <span class="built_in">file</span>! <span class="built_in">file</span>: <span class="number">17</span> pos: <span class="number">9060352</span> errno = <span class="number">0</span> ()
FATAL: Failed <span class="built_in">to</span> <span class="built_in">read</span> <span class="built_in">file</span>! <span class="built_in">file</span>: <span class="number">16</span> pos: <span class="number">311296</span> errno = <span class="number">0</span> ()
Done.

Operations performed:  <span class="number">0</span> Read, <span class="number">0</span> Write, <span class="number">0</span> Other = <span class="number">0</span> Total
Read <span class="number">0</span>b  Written <span class="number">0</span>b  Total transferred <span class="number">0</span>b  (<span class="number">0</span>b/<span class="built_in">sec</span>)
    <span class="number">0.00</span> Requests/<span class="built_in">sec</span> executed

Test execution summary:
    total <span class="built_in">time</span>:                          <span class="number">0.0029</span>s
    total <span class="built_in">number</span> <span class="operator">of</span> events:              <span class="number">0</span>
    total <span class="built_in">time</span> taken <span class="keyword">by</span> event execution: <span class="number">0.0000</span>
    per-request statistics:
         <span class="built_in">min</span>:                            <span class="number">18446744073709.55</span>ms
         <span class="built_in">avg</span>:                                  <span class="number">0.00</span>ms
         <span class="built_in">max</span>:                                  <span class="number">0.00</span>ms

Threads fairness:
    events (<span class="built_in">avg</span>/stddev):           <span class="number">0.0000</span>/<span class="number">0.00</span>
    execution <span class="built_in">time</span> (<span class="built_in">avg</span>/stddev):   <span class="number">0.0000</span>/<span class="number">0.00</span>
</pre></td></tr></table></figure>

<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
</pre></td><td class="code"><pre>sysbench <span class="number">0.4</span><span class="number">.10</span>:  multi-threaded <span class="keyword">system</span> evaluation benchmark

Removing test <span class="built_in">files</span>...
</pre></td></tr></table></figure>

<h4 id="4_内存测试">4 内存测试</h4>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
</pre></td><td class="code"><pre>sysbench --test=<span class="keyword">memory</span> --<span class="keyword">memory</span>-block-<span class="keyword">size</span>=<span class="number">8</span>k --<span class="keyword">memory</span>-total-<span class="keyword">size</span>=<span class="number">4</span>G run
</pre></td></tr></table></figure><br>上述参数指定了本次测试整个过程是在内存中传输 4G 的数据量，每个 block 大小为 8K。<br><figure class="highlight"><table><tr><td class="gutter"><pre>1
</pre></td><td class="code"><pre><span class="preprocessor"># 无结果,待更新!</span>
</pre></td></tr></table></figure>

<h4 id="5_mysql_性能测试">5 mysql 性能测试</h4>
<h5 id="5-1_prepare_data">5.1 prepare data</h5>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
</pre></td><td class="code"><pre>sysbench <span class="subst">--</span>test<span class="subst">=</span>oltp <span class="subst">--</span>mysql<span class="attribute">-table</span><span class="attribute">-engine</span><span class="subst">=</span>innodb <span class="subst">--</span>oltp<span class="attribute">-table</span><span class="attribute">-size</span><span class="subst">=</span><span class="number">1000000</span> <span class="subst">\</span>
<span class="subst">--</span>mysql<span class="attribute">-socket</span><span class="subst">=</span>/home/<span class="built_in">data</span>/mysql/mysql<span class="built_in">.</span>sock <span class="subst">--</span>mysql<span class="attribute">-user</span><span class="subst">=</span>root <span class="subst">--</span>mysql<span class="attribute">-host</span><span class="subst">=</span>localhost <span class="subst">\</span>
<span class="subst">--</span>mysql<span class="attribute">-password</span><span class="subst">=</span><span class="number">123456</span> <span class="subst">--</span>mysql<span class="attribute">-db</span><span class="subst">=</span>students <span class="subst">--</span>oltp<span class="attribute">-table</span><span class="attribute">-name</span><span class="subst">=</span>test prepare
</pre></td></tr></table></figure>

<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
</pre></td><td class="code"><pre>sysbench <span class="number">0.4</span><span class="number">.10</span>:  multi-threaded system evaluation benchmark

No DB drivers specified, using mysql
Creating table <span class="string">'test'</span><span class="keyword">...</span>
Creating <span class="number">1000000</span> records <span class="keyword">in</span> table <span class="string">'test'</span><span class="keyword">...</span>
</pre></td></tr></table></figure>

<h5 id="5-2_run_test">5.2 run test</h5>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
</pre></td><td class="code"><pre>sysbench <span class="subst">--</span>test<span class="subst">=</span>oltp <span class="subst">--</span>mysql<span class="attribute">-table</span><span class="attribute">-engine</span><span class="subst">=</span>innodb <span class="subst">--</span>oltp<span class="attribute">-table</span><span class="attribute">-size</span><span class="subst">=</span><span class="number">1000000</span> <span class="subst">\</span>
<span class="subst">--</span>mysql<span class="attribute">-socket</span><span class="subst">=</span>/home/<span class="built_in">data</span>/mysql/mysql<span class="built_in">.</span>sock <span class="subst">--</span>mysql<span class="attribute">-user</span><span class="subst">=</span>root <span class="subst">--</span>mysql<span class="attribute">-host</span><span class="subst">=</span>localhost <span class="subst">\</span>
<span class="subst">--</span>mysql<span class="attribute">-password</span><span class="subst">=</span><span class="number">123456</span> <span class="subst">--</span>mysql<span class="attribute">-db</span><span class="subst">=</span>students <span class="subst">--</span>oltp<span class="attribute">-table</span><span class="attribute">-name</span><span class="subst">=</span>test <span class="subst">\</span>
<span class="subst">--</span><span class="keyword">max</span><span class="attribute">-requests</span><span class="subst">=</span><span class="number">1000</span> <span class="subst">--</span>num<span class="attribute">-threads</span><span class="subst">=</span><span class="number">100</span> run
</pre></td></tr></table></figure>

<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
</pre></td><td class="code"><pre>sysbench <span class="number">0.4</span><span class="number">.10</span>:  multi-threaded <span class="keyword">system</span> evaluation benchmark

No DB drivers specified, <span class="keyword">using</span> mysql
WARNING: Preparing <span class="operator">of</span> <span class="string">"BEGIN"</span> is unsupported, <span class="keyword">using</span> emulation
(<span class="keyword">last</span> message repeated <span class="number">99</span> times)
Running <span class="operator">the</span> test <span class="operator">with</span> following options:
Number <span class="operator">of</span> threads: <span class="number">100</span>

Doing OLTP test.
Running mixed OLTP test
Using Special distribution (<span class="number">12</span> iterations,  <span class="number">1</span> pct <span class="operator">of</span> values are returned <span class="operator">in</span> <span class="number">75</span> pct cases)
Using <span class="string">"BEGIN"</span> <span class="keyword">for</span> starting transactions
Using auto_inc <span class="command"><span class="keyword">on</span> <span class="title">the</span> <span class="title">id</span> <span class="title">column</span></span>
Maximum <span class="built_in">number</span> <span class="operator">of</span> requests <span class="keyword">for</span> OLTP test is limited <span class="built_in">to</span> <span class="number">1000</span>
Threads started!
Done.

OLTP test statistics:
    queries performed:
        <span class="built_in">read</span>:                            <span class="number">14000</span>
        <span class="built_in">write</span>:                           <span class="number">5000</span>
        other:                           <span class="number">2000</span>
        total:                           <span class="number">21000</span>
    transactions:                        <span class="number">1000</span>   (<span class="number">276.21</span> per <span class="built_in">sec</span>.)
    deadlocks:                           <span class="number">0</span>      (<span class="number">0.00</span> per <span class="built_in">sec</span>.)
    <span class="built_in">read</span>/<span class="built_in">write</span> requests:                 <span class="number">19000</span>  (<span class="number">5247.91</span> per <span class="built_in">sec</span>.)
    other operations:                    <span class="number">2000</span>   (<span class="number">552.41</span> per <span class="built_in">sec</span>.)

Test execution summary:
    total <span class="built_in">time</span>:                          <span class="number">3.6205</span>s
    total <span class="built_in">number</span> <span class="operator">of</span> events:              <span class="number">1000</span>
    total <span class="built_in">time</span> taken <span class="keyword">by</span> event execution: <span class="number">356.3231</span>
    per-request statistics:
         <span class="built_in">min</span>:                                 <span class="number">55.01</span>ms
         <span class="built_in">avg</span>:                                <span class="number">356.32</span>ms
         <span class="built_in">max</span>:                               <span class="number">1223.34</span>ms
         approx.  <span class="number">95</span> percentile:             <span class="number">764.73</span>ms

Threads fairness:
    events (<span class="built_in">avg</span>/stddev):           <span class="number">10.0000</span>/<span class="number">0.76</span>
    execution <span class="built_in">time</span> (<span class="built_in">avg</span>/stddev):   <span class="number">3.5632</span>/<span class="number">0.03</span>
</pre></td></tr></table></figure>

<h5 id="5-3_clean_data">5.3 clean data</h5>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
</pre></td><td class="code"><pre>sysbench <span class="subst">--</span>test<span class="subst">=</span>oltp <span class="subst">--</span>mysql<span class="attribute">-host</span><span class="subst">=</span>localhost  <span class="subst">--</span>mysql<span class="attribute">-user</span><span class="subst">=</span>root  <span class="subst">--</span>mysql<span class="attribute">-password</span><span class="subst">=</span><span class="number">123456</span> <span class="subst">\</span>
<span class="subst">--</span>mysql<span class="attribute">-socket</span><span class="subst">=</span>/home/<span class="built_in">data</span>/mysql/mysql<span class="built_in">.</span>sock <span class="subst">--</span>mysql<span class="attribute">-db</span><span class="subst">=</span>students <span class="subst">--</span>oltp<span class="attribute">-table</span><span class="attribute">-name</span><span class="subst">=</span>test cleanup
</pre></td></tr></table></figure>

<p>以上测试内容参考 <a href="http://imysql.cn/node/312" target="_blank" rel="external">MySQL 中文网</a>.</p>
<p>本文数据为一台1核1G主机的性能测试结果.</p>
<p>欢迎参见<a href="https://github.com/iofdata/DM/issues/5" target="_blank" rel="external">Details</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://buttonwood.bitbucket.org/2014/07/24/2014-07-24-sysbench-testing/" data-id="ghnq4tvkdl4f41j2" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MySQL/">MySQL</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Tools/">Tools</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/sysbench/">sysbench</a></li></ul>

    </footer>
  </div>
  
</article>

<!-- DISQUS

-->



  
    <article id="post-2014-07-22-sysbench-install" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/07/22/2014-07-22-sysbench-install/" class="article-date">
  <time datetime="2014-07-22T13:51:00.000Z" itemprop="datePublished">Jul 22 2014</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/MySQL/">MySQL</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/07/22/2014-07-22-sysbench-install/">sysbench libtool error and mysql testing</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="sysbench_安装">sysbench 安装</h3>
<p><a href="http://blog.163.com/digoal@126/blog/static/16387704020134142151769/" target="_blank" rel="external">http://blog.163.com/digoal@126/blog/static/16387704020134142151769/</a></p>
<h4 id="1_找不到mysql的include和lib文件目录">1 找不到<code>mysql</code>的<code>include</code>和<code>lib</code>文件目录</h4>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td><td class="code"><pre>wget -c http://dev<span class="preprocessor">.mysql</span><span class="preprocessor">.com</span>/get/Downloads/MySQL-<span class="number">5.6</span>/MySQL-devel-<span class="number">5.6</span><span class="number">.19</span>-<span class="number">1.</span>el6<span class="preprocessor">.x</span>86_64<span class="preprocessor">.rpm</span>/from/http://mysql<span class="preprocessor">.spd</span><span class="preprocessor">.co</span><span class="preprocessor">.il</span>/
rpm -ivh MySQL-devel-<span class="number">5.6</span><span class="number">.19</span>-<span class="number">1.</span>el6<span class="preprocessor">.x</span>86_64<span class="preprocessor">.rpm</span>

wget -c http://dev<span class="preprocessor">.mysql</span><span class="preprocessor">.com</span>/get/Downloads/MySQL-<span class="number">5.6</span>/MySQL-shared-<span class="number">5.6</span><span class="number">.19</span>-<span class="number">1.</span>el6<span class="preprocessor">.x</span>86_64<span class="preprocessor">.rpm</span>/from/http://mysql<span class="preprocessor">.spd</span><span class="preprocessor">.co</span><span class="preprocessor">.il</span>/
rpm -ivh MySQL-shared-<span class="number">5.6</span><span class="number">.19</span>-<span class="number">1.</span>el6<span class="preprocessor">.x</span>86_64<span class="preprocessor">.rpm</span>

rpm -qa|grep MySQL
rpm -ql MySQL-server-<span class="number">5.6</span><span class="number">.19</span>-<span class="number">1.</span>el6<span class="preprocessor">.x</span>86_64

chkconfig --list|grep -i mysql

./configure --with-mysql-includes=/usr/include/mysql --with-mysql-libs=/usr/lib64/mysql/
make
make check
make install
</pre></td></tr></table></figure><br>可惜,仍然不能很好的结果问题,继续艰难摸索中.<br><br>#### 2 最终解决方案<br><br>##### 5-0 版本但是不能测试 <code>oltp</code><br><br><figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
</pre></td><td class="code"><pre><span class="label">http:</span>//www<span class="preprocessor">.lefred</span><span class="preprocessor">.be</span>/node/<span class="number">154</span>
rpm -ivh sysbench-<span class="number">0.5</span>-<span class="number">2.</span>el6_<span class="preprocessor">.x</span>86_64<span class="preprocessor">.rpm</span>
rpm -ql sysbench
</pre></td></tr></table></figure>

<h5 id="转回_4-10_版本_解决方案">转回 4.10 版本 解决方案</h5>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
</pre></td><td class="code"><pre>#git clone https://github.com/nettedfish/sysbench_from_percona.git
yum -y install libtool
yum -y install automake*
rm -rf libtool
ln -s /usr/bin/libtool ./

./autogen.sh
./configure
make & make install
ln -s  /usr/local/bin/sysbench /usr/bin/
sysbench --test=oltp help

sysbench 0.4.10:  multi-threaded system evaluation benchmark

oltp options:
  -<span class="ruby">-oltp-test-mode=<span class="constant">STRING</span>         test type to use {simple,complex,nontrx,sp} [complex]
</span>  -<span class="ruby">-oltp-sp-name=<span class="constant">STRING</span>           name of store procedure to call <span class="keyword">in</span> <span class="constant">SP</span> test mode []
</span>  -<span class="ruby">-oltp-read-only=[on|off]       generate only <span class="string">'read'</span> queries (<span class="keyword">do</span> <span class="keyword">not</span> modify database) [off]
</span>  -<span class="ruby">-oltp-skip-trx=[on|off]        skip <span class="constant">BEGIN</span>/<span class="constant">COMMIT</span> statements [off]
</span>  -<span class="ruby">-oltp-range-size=<span class="constant">N</span>             range size <span class="keyword">for</span> range queries [<span class="number">100</span>]
</span>  -<span class="ruby">-oltp-point-selects=<span class="constant">N</span>          number of point selects [<span class="number">10</span>]
</span>  -<span class="ruby">-oltp-simple-ranges=<span class="constant">N</span>          number of simple ranges [<span class="number">1</span>]
</span>  -<span class="ruby">-oltp-sum-ranges=<span class="constant">N</span>             number of sum ranges [<span class="number">1</span>]
</span>  -<span class="ruby">-oltp-order-ranges=<span class="constant">N</span>           number of ordered ranges [<span class="number">1</span>]
</span>  -<span class="ruby">-oltp-distinct-ranges=<span class="constant">N</span>        number of distinct ranges [<span class="number">1</span>]
</span>  -<span class="ruby">-oltp-index-updates=<span class="constant">N</span>          number of index update [<span class="number">1</span>]
</span>  -<span class="ruby">-oltp-non-index-updates=<span class="constant">N</span>      number of non-index updates [<span class="number">1</span>]
</span>  -<span class="ruby">-oltp-nontrx-mode=<span class="constant">STRING</span>       mode <span class="keyword">for</span> non-transactional test {select, update_key, update_nokey, insert, delete} [select]
</span>  -<span class="ruby">-oltp-auto-inc=[on|off]        whether <span class="constant">AUTO_INCREMENT</span> (<span class="keyword">or</span> equivalent) should be used on id column [on]
</span>  -<span class="ruby">-oltp-connect-delay=<span class="constant">N</span>          time <span class="keyword">in</span> microseconds to sleep after connection to database [<span class="number">10000</span>]
</span>  -<span class="ruby">-oltp-user-delay-min=<span class="constant">N</span>         minimum time <span class="keyword">in</span> microseconds to sleep after each request [<span class="number">0</span>]
</span>  -<span class="ruby">-oltp-user-delay-max=<span class="constant">N</span>         maximum time <span class="keyword">in</span> microseconds to sleep after each request [<span class="number">0</span>]
</span>  -<span class="ruby">-oltp-table-name=<span class="constant">STRING</span>        name of test table [sbtest]
</span>  -<span class="ruby">-oltp-table-size=<span class="constant">N</span>             number of records <span class="keyword">in</span> test table [<span class="number">10000</span>]
</span>  -<span class="ruby">-oltp-dist-type=<span class="constant">STRING</span>         random numbers distribution {uniform,gaussian,special} [special]
</span>  -<span class="ruby">-oltp-dist-iter=<span class="constant">N</span>              number of iterations used <span class="keyword">for</span> numbers generation [<span class="number">12</span>]
</span>  -<span class="ruby">-oltp-dist-pct=<span class="constant">N</span>               percentage of values to be treated as <span class="string">'special'</span> (<span class="keyword">for</span> special distribution) [<span class="number">1</span>]
</span>  -<span class="ruby">-oltp-dist-res=<span class="constant">N</span>               percentage of <span class="string">'special'</span> values to use (<span class="keyword">for</span> special distribution) [<span class="number">75</span>]
</span>
General database options:

  -<span class="ruby">-db-driver=<span class="constant">STRING</span>  specifies database driver to use (<span class="string">'help'</span> to get list of available drivers)
</span>  -<span class="ruby">-db-ps-mode=<span class="constant">STRING</span> prepared statements usage mode {auto, disable} [auto]
</span>

Compiled-in database drivers:
  mysql - MySQL driver

mysql options:
  -<span class="ruby">-mysql-host=[<span class="constant">LIST</span>,...]       <span class="constant">MySQL</span> server host [localhost]
</span>  -<span class="ruby">-mysql-port=<span class="constant">N</span>                <span class="constant">MySQL</span> server port [<span class="number">3306</span>]
</span>  -<span class="ruby">-mysql-socket=<span class="constant">STRING</span>         <span class="constant">MySQL</span> socket
</span>  -<span class="ruby">-mysql-user=<span class="constant">STRING</span>           <span class="constant">MySQL</span> user [sbtest]
</span>  -<span class="ruby">-mysql-password=<span class="constant">STRING</span>       <span class="constant">MySQL</span> password []
</span>  -<span class="ruby">-mysql-db=<span class="constant">STRING</span>             <span class="constant">MySQL</span> database name [sbtest]
</span>  -<span class="ruby">-mysql-table-engine=<span class="constant">STRING</span>   storage engine to use <span class="keyword">for</span> the test table {myisam,innodb,bdb,heap,ndbcluster,federated} [innodb]
</span>  -<span class="ruby">-mysql-engine-trx=<span class="constant">STRING</span>     whether storage engine used is transactional <span class="keyword">or</span> <span class="keyword">not</span> {yes,no,auto} [auto]
</span>  -<span class="ruby">-mysql-ssl=[on|off]          use <span class="constant">SSL</span> connections, <span class="keyword">if</span> available <span class="keyword">in</span> the client library [off]
</span>  -<span class="ruby">-myisam-max-rows=<span class="constant">N</span>           max-rows parameter <span class="keyword">for</span> <span class="constant">MyISAM</span> tables [<span class="number">1000000</span>]
</span>  -<span class="ruby">-mysql-create-options=<span class="constant">STRING</span> additional options passed to <span class="constant">CREATE</span> <span class="constant">TABLE</span> []</span>
</pre></td></tr></table></figure>

<p>后续将继续关注数据测试结果.</p>
<h4 id="3_关于libtool错误的其它参考">3 关于<code>libtool</code>错误的其它参考</h4>
<p><a href="http://wenku.baidu.com/link?url=DGlHEoWxiLWq4829Qp_7ngYB9r3glfkk_JOHEVNDedUWDSWJxYRPiv55KWkhSPnkeKPXjn2O2N6n-Xgqi_j4c2j2GIRfqU66l2NlWZ0mHSK" target="_blank" rel="external">http://wenku.baidu.com/link?url=DGlHEoWxiLWq4829Qp_7ngYB9r3glfkk_JOHEVNDedUWDSWJxYRPiv55KWkhSPnkeKPXjn2O2N6n-Xgqi_j4c2j2GIRfqU66l2NlWZ0mHSK</a></p>
<h4 id="4_sysbench-4-12和dbt2官方测试源址">4  <code>sysbench-4.12</code>和<code>dbt2</code>官方测试源址</h4>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
</pre></td><td class="code"><pre>wget http://downloads<span class="preprocessor">.mysql</span><span class="preprocessor">.com</span>/source/sysbench-<span class="number">0.4</span><span class="number">.12</span><span class="number">.5</span><span class="preprocessor">.tar</span><span class="preprocessor">.gz</span>
gunzip sysbench-<span class="number">0.4</span><span class="number">.12</span><span class="number">.5</span><span class="preprocessor">.tar</span><span class="preprocessor">.gz</span>
tar -xvf sysbench-<span class="number">0.4</span><span class="number">.12</span><span class="number">.5</span><span class="preprocessor">.tar</span>
cd sysbench-<span class="number">0.4</span><span class="number">.12</span><span class="number">.5</span>

wget http://downloads<span class="preprocessor">.mysql</span><span class="preprocessor">.com</span>/source/dbt2-<span class="number">0.37</span><span class="number">.50</span><span class="number">.3</span><span class="preprocessor">.tar</span><span class="preprocessor">.gz</span>
</pre></td></tr></table></figure>

<p>欢迎参见<a href="https://github.com/iofdata/DM/issues/5" target="_blank" rel="external">Details</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://buttonwood.bitbucket.org/2014/07/22/2014-07-22-sysbench-install/" data-id="g58z08u0fbsjcycf" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MySQL/">MySQL</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Tools/">Tools</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/sysbench/">sysbench</a></li></ul>

    </footer>
  </div>
  
</article>

<!-- DISQUS

-->



  
    <article id="post-2014-07-22-mysql-install" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/07/22/2014-07-22-mysql-install/" class="article-date">
  <time datetime="2014-07-22T03:51:00.000Z" itemprop="datePublished">Jul 22 2014</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/MySQL/">MySQL</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/07/22/2014-07-22-mysql-install/">A First Glance at MySQL</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="A_安装MySQL">A 安装MySQL</h3>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
</pre></td><td class="code"><pre><span class="preprocessor">##wget http://192.168.2.2:8080/download/MySQL-client-5.6.19-1.el6.x86_64.rpm</span>
<span class="preprocessor">##wget http://192.168.2.2:8080/download/MySQL-server-5.6.19-1.el6.x86_64.rpm</span>
wget -c http://dev<span class="preprocessor">.mysql</span><span class="preprocessor">.com</span>/get/Downloads/MySQL-<span class="number">5.6</span>/MySQL-*-<span class="number">5.6</span><span class="number">.19</span>-<span class="number">1.</span>el6<span class="preprocessor">.x</span>86_64<span class="preprocessor">.rpm</span>/from/http://mysql<span class="preprocessor">.spd</span><span class="preprocessor">.co</span><span class="preprocessor">.il</span>/

rpm -ivg MySQL-server-<span class="number">5.6</span><span class="number">.19</span>-<span class="number">1.</span>el6<span class="preprocessor">.x</span>86_64<span class="preprocessor">.rpm</span>
<span class="preprocessor">## 报错</span>
<span class="preprocessor">## file /usr/share/mysql/czech/errmsg.sys from install of MySQL-server-5.6.19-1.el6.x86_64 conflicts with file from package mysql-libs-5.1.71-1.el6.x86_64</span>

yum remove mysql-libs-<span class="number">5.1</span>.*
rpm -ivh MySQL-server-<span class="number">5.6</span><span class="number">.19</span>-<span class="number">1.</span>el6<span class="preprocessor">.x</span>86_64<span class="preprocessor">.rpm</span>
rpm -ivg MySQL-client-<span class="number">5.6</span><span class="number">.19</span>-<span class="number">1.</span>el6<span class="preprocessor">.x</span>86_64<span class="preprocessor">.rpm</span>
rpm -ivh MySQL-devle-<span class="number">5.6</span><span class="number">.19</span>-<span class="number">1.</span>el6<span class="preprocessor">.x</span>86_64<span class="preprocessor">.rpm</span>

<span class="preprocessor">## check and start MySQL</span>
chkconfig | grep mysql
service mysql start

<span class="preprocessor">## 数据目录</span>
lsof|grep mysql
ll -rt /var/lib/mysql/

<span class="preprocessor">## mysql 配置文件</span>
ll -rt /usr/share/mysql/

<span class="preprocessor">## 相关程序命令</span>
which mysql
/usr/bin/mysql

<span class="preprocessor">## 启动脚本</span>
ll -rt /etc/rc<span class="preprocessor">.d</span>/init<span class="preprocessor">.d</span>/
</pre></td></tr></table></figure>


        
          <p class="article-more-link">
            <a href="/2014/07/22/2014-07-22-mysql-install/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://buttonwood.bitbucket.org/2014/07/22/2014-07-22-mysql-install/" data-id="cy9i6k8hcwg2k4c7" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MySQL/">MySQL</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Tools/">Tools</a></li></ul>

    </footer>
  </div>
  
</article>

<!-- DISQUS

-->



  
    <article id="post-2014-07-09-tools" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/07/09/2014-07-09-tools/" class="article-date">
  <time datetime="2014-07-09T03:51:00.000Z" itemprop="datePublished">Jul 9 2014</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Tools/">Tools</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/07/09/2014-07-09-tools/">Data Sicence ToolBox</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="1_Download_file">1 Download file</h3>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
</pre></td><td class="code"><pre><span class="keyword">if</span>(!<span class="built_in">file</span>.exists(<span class="string">"data"</span>)){
    dir.creat(<span class="string">"data"</span>)
}
fileurl &lt;- <span class="string">"http://"</span>
download.<span class="built_in">file</span>(fileurl, destfile=<span class="string">"./data/data.csv"</span>, method=<span class="string">"curl"</span>)
list.<span class="built_in">files</span>(<span class="string">"./data"</span>)
dateDownloaded &lt;- <span class="built_in">date</span>()

<span class="built_in">read</span>.table(<span class="string">"./data/data.csv"</span>)
<span class="built_in">read</span>.xlsx(<span class="string">"./data/data.xlsx"</span>, sheetIndex=<span class="number">1</span>, header=<span class="constant">TRUE</span>)

library(XML)
fileurl &lt;- <span class="string">"http://www.w3c.com/xml/simple.xml"</span>
doc &lt;- xmlTreeParse(fileurl, useInternal=<span class="constant">TRUE</span>)
rootNode &lt;- xmlRoot(doc)
xmlName(rootNode)
xmlSApply(rootNode, xmlValue)
xpathSApply(rootNode,<span class="comment">"//name",xmlvale)</span>


library(jsonlite)
jsonData &lt;- fromJSON(<span class="string">""</span>)
toJSON()

library(RMySQL)
biocLite(<span class="string">"rhdf5"</span>)
</pre></td></tr></table></figure>


        
          <p class="article-more-link">
            <a href="/2014/07/09/2014-07-09-tools/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://buttonwood.bitbucket.org/2014/07/09/2014-07-09-tools/" data-id="sx9h0iiqt2wxss4c" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Git/">Git</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/R/">R</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Tools/">Tools</a></li></ul>

    </footer>
  </div>
  
</article>

<!-- DISQUS

-->



  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/3/">Next &raquo;</a>
    </nav>
  
</section>
        
          <aside id="sidebar">
  
    <div class="widget-wrap">
    <h3 class="widget-title">About</h3>
    <div class="widget">
    <img src="http://ww1.sinaimg.cn/mw690/6fbc15dcjw1do9bywpfjjj.jpg" style="margin: auto; width: 100%;"/>
        <h4 style="text-align: center"><strong>Buttonwood(th)</strong></h4>
        <div style="margin: auto; text-align: center;">
            <a href="http://weibo.com/buttonwood" target="_blank"><img src="http://www.sinaimg.cn/blog/developer/wiki/LOGO_64x64.png" style="border:0;width:32px;height:32px;"/></a>
            <a href="https://github.com/Buttonwood" target="_blank"><img src="https://assets-cdn.github.com/images/modules/logos_page/Octocat.png" style="border:0;width:32px;height:32px;"/></a>
            <a class="fancybox" href="mailto:tanhao2013@gmail.com"><img src="http://icons.iconarchive.com/icons/mcdo-design/letter/64/Letter-GMail-pen-icon.png" style="border:0;width:32px;height:32px;"/></a>
            <a href="http://www.douban.com/people/buttonwood/" target="_blank"><img src="http://img3.douban.com/pics/douban-icons/favicon_32x32.png" style="border:0;width:32px;height:32px;"/></a>
        </div>
    </div>
</div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Bioinformatics/">Bioinformatics</a><span class="category-list-count">9</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Bioinformatics/ML/">ML</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Compute/">Compute</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Data-Mining/">Data Mining</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Data-Visualization/">Data Visualization</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/MySQL/">MySQL</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/">Python</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/R/">R</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Tips/">Tips</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Tools/">Tools</a><span class="category-list-count">10</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Annotation/">Annotation</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Assemble/">Assemble</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Assembly/">Assembly</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Bayesian/">Bayesian</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Blog/">Blog</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CART/">CART</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Circos/">Circos</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Comparative-genomics/">Comparative genomics</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DBG/">DBG</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DV/">DV</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/EM/">EM</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ElasticSearch/">ElasticSearch</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Genome/">Genome</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git/">Git</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Kmer/">Kmer</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MCMC/">MCMC</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ML/">ML</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MySQL/">MySQL</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mysql/">Mysql</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/OLC/">OLC</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/OSX/">OSX</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Octopress/">Octopress</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PacBio/">PacBio</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PageRank/">PageRank</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/">Python</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/R/">R</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SVM/">SVM</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Scaffold/">Scaffold</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Synteny/">Synteny</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Thread/">Thread</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Tips/">Tips</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Tools/">Tools</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Web/">Web</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/books/">books</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/centOS/">centOS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/classification/">classification</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/clustering/">clustering</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cobar/">cobar</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/consul/">consul</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/docker/">docker</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hadoop/">hadoop</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hbase/">hbase</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/k-means/">k-means</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/kNN/">kNN</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/matplotlib/">matplotlib</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mysql/">mysql</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/network/">network</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/people/">people</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/registry/">registry</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sysbench/">sysbench</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/zookeeper/">zookeeper</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Annotation/" style="font-size: 10.00px;">Annotation</a><a href="/tags/Assemble/" style="font-size: 12.00px;">Assemble</a><a href="/tags/Assembly/" style="font-size: 10.00px;">Assembly</a><a href="/tags/Bayesian/" style="font-size: 10.00px;">Bayesian</a><a href="/tags/Blog/" style="font-size: 10.00px;">Blog</a><a href="/tags/CART/" style="font-size: 10.00px;">CART</a><a href="/tags/Circos/" style="font-size: 10.00px;">Circos</a><a href="/tags/Comparative-genomics/" style="font-size: 10.00px;">Comparative genomics</a><a href="/tags/DBG/" style="font-size: 14.00px;">DBG</a><a href="/tags/DV/" style="font-size: 10.00px;">DV</a><a href="/tags/EM/" style="font-size: 10.00px;">EM</a><a href="/tags/ElasticSearch/" style="font-size: 10.00px;">ElasticSearch</a><a href="/tags/Genome/" style="font-size: 12.00px;">Genome</a><a href="/tags/Git/" style="font-size: 10.00px;">Git</a><a href="/tags/Kmer/" style="font-size: 10.00px;">Kmer</a><a href="/tags/MCMC/" style="font-size: 10.00px;">MCMC</a><a href="/tags/ML/" style="font-size: 12.00px;">ML</a><a href="/tags/MySQL/" style="font-size: 16.00px;">MySQL</a><a href="/tags/Mysql/" style="font-size: 10.00px;">Mysql</a><a href="/tags/OLC/" style="font-size: 14.00px;">OLC</a><a href="/tags/OSX/" style="font-size: 10.00px;">OSX</a><a href="/tags/Octopress/" style="font-size: 10.00px;">Octopress</a><a href="/tags/PacBio/" style="font-size: 10.00px;">PacBio</a><a href="/tags/PageRank/" style="font-size: 10.00px;">PageRank</a><a href="/tags/Python/" style="font-size: 20.00px;">Python</a><a href="/tags/R/" style="font-size: 14.00px;">R</a><a href="/tags/SVM/" style="font-size: 10.00px;">SVM</a><a href="/tags/Scaffold/" style="font-size: 10.00px;">Scaffold</a><a href="/tags/Synteny/" style="font-size: 10.00px;">Synteny</a><a href="/tags/Thread/" style="font-size: 10.00px;">Thread</a><a href="/tags/Tips/" style="font-size: 20.00px;">Tips</a><a href="/tags/Tools/" style="font-size: 20.00px;">Tools</a><a href="/tags/Web/" style="font-size: 10.00px;">Web</a><a href="/tags/books/" style="font-size: 10.00px;">books</a><a href="/tags/centOS/" style="font-size: 10.00px;">centOS</a><a href="/tags/classification/" style="font-size: 10.00px;">classification</a><a href="/tags/clustering/" style="font-size: 10.00px;">clustering</a><a href="/tags/cobar/" style="font-size: 10.00px;">cobar</a><a href="/tags/consul/" style="font-size: 10.00px;">consul</a><a href="/tags/docker/" style="font-size: 18.00px;">docker</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03">March 2016</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02">February 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01">January 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/01">January 2015</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/12">December 2014</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/10">October 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/08">August 2014</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/07">July 2014</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/06">June 2014</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/05">May 2014</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/04">April 2014</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/02">February 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/12">December 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/11">November 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/08">August 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/03">March 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/01">January 2013</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/12">December 2012</a><span class="archive-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/03/31/2016-03-31-hadoop-ha-docker/">docker搭建高可用hadoop集群</a>
          </li>
        
          <li>
            <a href="/2016/03/31/2016-03-31-hbase-region-in-transition/">hbase region in transition too long</a>
          </li>
        
          <li>
            <a href="/2016/03/15/2016-03-15-zookeeper-and-docker/">用docker创建zookeeper集群</a>
          </li>
        
          <li>
            <a href="/2016/03/10/2016-03-10-docker-consul/">docker consul 服务发现</a>
          </li>
        
          <li>
            <a href="/2016/03/10/2016-03-10-docker-registry/">docker registry 搭建</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    <iframe width="100%" height="550" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=550&fansRow=2&ptype=1&speed=0&skin=1&isTitle=1&noborder=1&isWeibo=1&isFans=1&uid=1874597340&verifier=b3593ceb&dpc=1"></iframe>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 The Eye of Data ( <a href="http://buttonwood.github.io" target="_blank">@Buttonwood )</a><br>
      Powered by <a href="http://zespia.tw/hexo/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    




<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>